const e=(e,a,t,n)=>{const i=new Set((t.split(",")||[t]).map((e=>e.trim()))),r=new MutationObserver(((e,t)=>{for(const r of e)if("childList"==r.type){const e=Array.from(r.addedNodes)||[],l=Array.from(r.removedNodes)||[];e.push(...Array.from(r.addedNodes||[]).flatMap((e=>Array.from(e?.querySelectorAll?.(a)||[])))),l.push(...Array.from(r.removedNodes||[]).flatMap((e=>Array.from(e?.querySelectorAll?.(a)||[])))),[...Array.from(new Set(e).values())].filter((e=>e?.matches?.(a))).forEach((e=>{i.forEach((a=>{n({target:e,type:"attributes",attributeName:a,oldValue:e?.getAttribute?.(a)},t)}))}))}else r.target?.matches?.(a)&&r.attributeName&&i.has(r.attributeName)&&n(r,t)}));return r.observe(e,{attributeOldValue:1,childList:1,subtree:1,attributes:1,attributeFilter:[...i],characterData:1}),Array.from(e.querySelectorAll(a)).forEach((e=>{i.forEach((a=>{n({target:e,type:"attributes",attributeName:a,oldValue:e?.getAttribute?.(a)},r)}))})),r},a=Symbol(),t=()=>{(()=>{const e=document.createElement("link");e.rel="stylesheet",e.type="text/css",e.href=URL.createObjectURL(new Blob(['*[data-hidden]:not([data-hidden=false],[data-hidden=""],.u2-while-animation){display:none!important}'],{type:"text/css"})),document.head.appendChild(e)})(),e(document.body,"*[data-hidden]","data-hidden",(e=>{if("data-hidden"==e.attributeName){const t=e.target;t.dataset.hidden!=e.oldValue&&(t.dataset.hidden&&"false"!=t.dataset.hidden?(async e=>{matchMedia("(prefers-reduced-motion: reduce)").matches||e.classList.contains("u2-while-animation")||e.hasAttribute("data-instant")||e.classList.add("u2-while-animation"),e.classList.contains("u2-while-animation")&&(await e.animate([{easing:"linear",offset:0,display:e[a]?.display||"revert-layer","--opacity":e[a]?.getPropertyValue("--opacity")||"revert-layer","--scale":e[a]?.getPropertyValue("--scale")||"revert-layer",pointerEvents:"none"},{easing:"linear",offset:.99,display:e[a]?.display||"revert-layer","--opacity":0,"--scale":.8,pointerEvents:"none"},{easing:"linear",offset:1,display:"none","--opacity":0,"--scale":.8,pointerEvents:"none"}],{fill:"none",duration:100,easing:"linear",delay:matchMedia("(hover: none)").matches&&parseFloat(e.getAttribute("data-delay-hide")||"0")||0}).finished,e.classList.remove("u2-while-animation")),e.dispatchEvent(new CustomEvent("u2-hidden",{detail:{},bubbles:1,cancelable:1}))})(t):(async e=>{matchMedia("(prefers-reduced-motion: reduce)").matches||e.classList.contains("u2-while-animation")||e.hasAttribute("data-instant")||e.classList.add("u2-while-animation"),e.classList.contains("u2-while-animation")&&(await e.animate([{easing:"linear",offset:0,display:"none","--opacity":0,"--scale":.8,pointerEvents:"none"},{easing:"linear",offset:.01,display:e[a]?.display||"revert-layer","--opacity":0,"--scale":.8,pointerEvents:"none"},{easing:"linear",offset:1,display:e[a]?.display||"revert-layer","--opacity":e[a]?.getPropertyValue("--opacity")||"revert-layer","--scale":e[a]?.getPropertyValue("--scale")||"revert-layer",pointerEvents:e[a]?.pointerEvents||"revert-layer"}],{fill:"none",duration:100,easing:"linear",delay:0}).finished,e.classList.remove("u2-while-animation")),e.dispatchEvent(new CustomEvent("u2-appear",{detail:{},bubbles:1,cancelable:1}))})(t))}}))};export{t as default,e as observeAttributeBySelector};